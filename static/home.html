<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FORUM</title>
    <link rel="stylesheet" href="/static/css/styles.css" />
  </head>
  <body>
    <header class="card">
      <div class="header-content">
        <div class="logo">
          <a href="/">
            <h1>Forum</h1>
          </a>
        </div>
        <div class="user-menu">
          <span class="username">Welcome, ${username}</span>
          <button class="btn" id="create-post-btn">Create Post</button>
          <button class="btn" id="logout-btn">Logout</button>
        </div>
      </div>
    </header>
    <div class="container">
      <!-- Left Sidebar -->
      <div class="sidebar-left">
        <div class="posts-section">
          <h3>Posts</h3>
          <ul>
            <li><a href="#" class="active">All Posts</a></li>
            <li><a href="#">Created Posts</a></li>
            <li><a href="#">Liked Posts</a></li>
          </ul>
        </div>
        <div class="categories-section">
          <h3>Categories</h3>
          <ul id="category">
            <li><a href="#">Technology</a></li>
          </ul>
        </div>
      </div>

      <!-- Middle Section (All Posts) -->
      <div class="main-content">
        <form
          id="create-post-form"
          action="/posts/create"
          method="POST"
          enctype="multipart/form-data"
        >
          <input type="text" name="title" placeholder="Post Title" required />
          <textarea
            name="content"
            placeholder="Post Content"
            required
          ></textarea>

          <div class="categories-section">
            ${ categories.length > 0 ? `
            <label>Select Categories (Choose one or more):</label>
            <div class="categories-grid">
              ${categories .map( (category) => `
              <div class="category-item">
                <input
                  type="checkbox"
                  name="categories[]"
                  value="${category.id}"
                  id="category-${category.id}"
                  class="category-checkbox"
                />
                <label for="category-${category.id}">${category.name}</label>
              </div>
              ` ) .join("")}
            </div>
            ` : "
            <p>No categories available</p>
            " }
          </div>

          <label for="image-upload">Upload Image (Max: 20MB)</label>
          <input type="file" id="image-upload" name="image" accept="image/*" />

          <button type="submit" class="btn">Submit Post</button><br />
          <button type="button" id="closeModal" class="btn">Close</button>
        </form>
      </div>

      <!-- Right Sidebar (All Users) -->
      <div class="sidebar-right">
        <h3>All Users</h3>
        <ul id="users">
          <li>User1</li>
        </ul>
      </div>
    </div>
    <script type="module" src="/static/js/app.js"></script>
  </body>
</html>
